{"ast":null,"code":"import React from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{Toaster}from'react-hot-toast';import{AuthProvider}from'./contexts/AuthContext';import Layout from'./components/Layout';import Login from'./pages/Login';import Dashboard from'./pages/Dashboard';import Profile from'./pages/Profile';import Schemes from'./pages/Schemes';import SchemeDetails from'./pages/SchemeDetails';import Documents from'./pages/Documents';import DocumentsTextView from'./pages/DocumentsTextView';import AadhaarCard from'./pages/AadhaarCard';import PANCard from'./pages/PANCard';import DrivingLicense from'./pages/DrivingLicense';import Passport from'./pages/Passport';import{useAuth}from'./contexts/AuthContext';// Protected Route Component\nimport{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children}=_ref;const{user,loading}=useAuth();console.log('üõ°Ô∏è ProtectedRoute - user:',!!user,'loading:',loading);if(loading){console.log('üõ°Ô∏è ProtectedRoute - showing loading');return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"})});}if(!user){console.log('üõ°Ô∏è ProtectedRoute - no user, redirecting to login');}else{console.log('üõ°Ô∏è ProtectedRoute - user authenticated, showing protected content');}return user?/*#__PURE__*/_jsx(_Fragment,{children:children}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});};// Main App Component\nconst AppContent=()=>{const{user}=useAuth();console.log('üöÄ AppContent - user authenticated:',!!user,user===null||user===void 0?void 0:user.name);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:!user?/*#__PURE__*/_jsx(Login,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:user?\"/dashboard\":\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(Dashboard,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(Profile,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/schemes\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(Schemes,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/schemes/:id\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(SchemeDetails,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/documents\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(Documents,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/documents/text-view\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(DocumentsTextView,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/documents/aadhaar\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(AadhaarCard,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/documents/pan\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(PANCard,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/documents/drivingLicense\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(DrivingLicense,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/documents/passport\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(Passport,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]}),/*#__PURE__*/_jsx(Toaster,{position:\"top-center\",reverseOrder:false,gutter:8,containerClassName:\"\",containerStyle:{},toastOptions:{duration:4000,style:{background:'#363636',color:'#fff',borderRadius:'8px',fontSize:'14px',maxWidth:'500px'},success:{style:{background:'#10B981'}},error:{style:{background:'#EF4444'}}}})]});};// Root App Component\nconst App=()=>{return/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(AppContent,{})})});};export default App;","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","Navigate","Toaster","AuthProvider","Layout","Login","Dashboard","Profile","Schemes","SchemeDetails","Documents","DocumentsTextView","AadhaarCard","PANCard","DrivingLicense","Passport","useAuth","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ProtectedRoute","_ref","children","user","loading","console","log","className","to","replace","AppContent","name","path","element","position","reverseOrder","gutter","containerClassName","containerStyle","toastOptions","duration","style","background","color","borderRadius","fontSize","maxWidth","success","error","App"],"sources":["C:/Users/KulkarniSr/OneDrive - Version 1/Downloads_Backup/CURSOR-PROJECT/frontend/src/App.tsx"],"sourcesContent":["import React from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\r\nimport { Toaster } from 'react-hot-toast';\r\nimport { AuthProvider } from './contexts/AuthContext';\r\nimport Layout from './components/Layout';\r\nimport Login from './pages/Login';\r\nimport Dashboard from './pages/Dashboard';\r\nimport Profile from './pages/Profile';\r\nimport Schemes from './pages/Schemes';\r\nimport SchemeDetails from './pages/SchemeDetails';\r\nimport Documents from './pages/Documents';\r\nimport DocumentsTextView from './pages/DocumentsTextView';\r\nimport AadhaarCard from './pages/AadhaarCard';\r\nimport PANCard from './pages/PANCard';\r\nimport DrivingLicense from './pages/DrivingLicense';\r\nimport Passport from './pages/Passport';\r\nimport { useAuth } from './contexts/AuthContext';\r\n\r\n// Protected Route Component\r\nconst ProtectedRoute: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n  const { user, loading } = useAuth();\r\n  \r\n  console.log('üõ°Ô∏è ProtectedRoute - user:', !!user, 'loading:', loading);\r\n  \r\n  if (loading) {\r\n    console.log('üõ°Ô∏è ProtectedRoute - showing loading');\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  if (!user) {\r\n    console.log('üõ°Ô∏è ProtectedRoute - no user, redirecting to login');\r\n  } else {\r\n    console.log('üõ°Ô∏è ProtectedRoute - user authenticated, showing protected content');\r\n  }\r\n  \r\n  return user ? <>{children}</> : <Navigate to=\"/login\" replace />;\r\n};\r\n\r\n// Main App Component\r\nconst AppContent: React.FC = () => {\r\n  const { user } = useAuth();\r\n\r\n  console.log('üöÄ AppContent - user authenticated:', !!user, user?.name);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <Routes>\r\n        <Route path=\"/login\" element={!user ? <Login /> : <Navigate to=\"/dashboard\" replace />} />\r\n        <Route path=\"/\" element={<Navigate to={user ? \"/dashboard\" : \"/login\"} replace />} />\r\n        \r\n        {/* Protected Routes */}\r\n        <Route path=\"/dashboard\" element={\r\n          <ProtectedRoute>\r\n            <Layout>\r\n              <Dashboard />\r\n            </Layout>\r\n          </ProtectedRoute>\r\n        } />\r\n        \r\n        <Route path=\"/profile\" element={\r\n          <ProtectedRoute>\r\n            <Layout>\r\n              <Profile />\r\n            </Layout>\r\n          </ProtectedRoute>\r\n        } />\r\n        \r\n        <Route path=\"/schemes\" element={\r\n          <ProtectedRoute>\r\n            <Layout>\r\n              <Schemes />\r\n            </Layout>\r\n          </ProtectedRoute>\r\n        } />\r\n        \r\n        <Route path=\"/schemes/:id\" element={\r\n          <ProtectedRoute>\r\n            <Layout>\r\n              <SchemeDetails />\r\n            </Layout>\r\n          </ProtectedRoute>\r\n        } />\r\n        \r\n        <Route path=\"/documents\" element={\r\n          <ProtectedRoute>\r\n            <Layout>\r\n              <Documents />\r\n            </Layout>\r\n          </ProtectedRoute>\r\n        } />\r\n        \r\n        <Route path=\"/documents/text-view\" element={\r\n          <ProtectedRoute>\r\n            <Layout>\r\n              <DocumentsTextView />\r\n            </Layout>\r\n          </ProtectedRoute>\r\n        } />\r\n        \r\n        <Route path=\"/documents/aadhaar\" element={\r\n          <ProtectedRoute>\r\n            <Layout>\r\n              <AadhaarCard />\r\n            </Layout>\r\n          </ProtectedRoute>\r\n        } />\r\n        \r\n        <Route path=\"/documents/pan\" element={\r\n          <ProtectedRoute>\r\n            <Layout>\r\n              <PANCard />\r\n            </Layout>\r\n          </ProtectedRoute>\r\n        } />\r\n        \r\n        <Route path=\"/documents/drivingLicense\" element={\r\n          <ProtectedRoute>\r\n            <Layout>\r\n              <DrivingLicense />\r\n            </Layout>\r\n          </ProtectedRoute>\r\n        } />\r\n        \r\n        <Route path=\"/documents/passport\" element={\r\n          <ProtectedRoute>\r\n            <Layout>\r\n              <Passport />\r\n            </Layout>\r\n          </ProtectedRoute>\r\n        } />\r\n        \r\n        {/* Catch all route */}\r\n        <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\r\n      </Routes>\r\n      \r\n      <Toaster\r\n        position=\"top-center\"\r\n        reverseOrder={false}\r\n        gutter={8}\r\n        containerClassName=\"\"\r\n        containerStyle={{}}\r\n        toastOptions={{\r\n          duration: 4000,\r\n          style: {\r\n            background: '#363636',\r\n            color: '#fff',\r\n            borderRadius: '8px',\r\n            fontSize: '14px',\r\n            maxWidth: '500px',\r\n          },\r\n          success: {\r\n            style: {\r\n              background: '#10B981',\r\n            },\r\n          },\r\n          error: {\r\n            style: {\r\n              background: '#EF4444',\r\n            },\r\n          },\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\n// Root App Component\r\nconst App: React.FC = () => {\r\n  return (\r\n    <AuthProvider>\r\n      <Router>\r\n        <AppContent />\r\n      </Router>\r\n    </AuthProvider>\r\n  );\r\n};\r\n\r\nexport default App; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CACnF,OAASC,OAAO,KAAQ,iBAAiB,CACzC,OAASC,YAAY,KAAQ,wBAAwB,CACrD,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,MAAO,CAAAC,KAAK,KAAM,eAAe,CACjC,MAAO,CAAAC,SAAS,KAAM,mBAAmB,CACzC,MAAO,CAAAC,OAAO,KAAM,iBAAiB,CACrC,MAAO,CAAAC,OAAO,KAAM,iBAAiB,CACrC,MAAO,CAAAC,aAAa,KAAM,uBAAuB,CACjD,MAAO,CAAAC,SAAS,KAAM,mBAAmB,CACzC,MAAO,CAAAC,iBAAiB,KAAM,2BAA2B,CACzD,MAAO,CAAAC,WAAW,KAAM,qBAAqB,CAC7C,MAAO,CAAAC,OAAO,KAAM,iBAAiB,CACrC,MAAO,CAAAC,cAAc,KAAM,wBAAwB,CACnD,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,OAASC,OAAO,KAAQ,wBAAwB,CAEhD;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,KAAM,CAAAC,cAAuD,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC3E,KAAM,CAAEE,IAAI,CAAEC,OAAQ,CAAC,CAAGX,OAAO,CAAC,CAAC,CAEnCY,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAE,CAAC,CAACH,IAAI,CAAE,UAAU,CAAEC,OAAO,CAAC,CAEtE,GAAIA,OAAO,CAAE,CACXC,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC,CACnD,mBACEX,IAAA,QAAKY,SAAS,CAAC,+CAA+C,CAAAL,QAAA,cAC5DP,IAAA,QAAKY,SAAS,CAAC,gEAAgE,CAAM,CAAC,CACnF,CAAC,CAEV,CAEA,GAAI,CAACJ,IAAI,CAAE,CACTE,OAAO,CAACC,GAAG,CAAC,oDAAoD,CAAC,CACnE,CAAC,IAAM,CACLD,OAAO,CAACC,GAAG,CAAC,oEAAoE,CAAC,CACnF,CAEA,MAAO,CAAAH,IAAI,cAAGR,IAAA,CAAAE,SAAA,EAAAK,QAAA,CAAGA,QAAQ,CAAG,CAAC,cAAGP,IAAA,CAACjB,QAAQ,EAAC8B,EAAE,CAAC,QAAQ,CAACC,OAAO,MAAE,CAAC,CAClE,CAAC,CAED;AACA,KAAM,CAAAC,UAAoB,CAAGA,CAAA,GAAM,CACjC,KAAM,CAAEP,IAAK,CAAC,CAAGV,OAAO,CAAC,CAAC,CAE1BY,OAAO,CAACC,GAAG,CAAC,qCAAqC,CAAE,CAAC,CAACH,IAAI,CAAEA,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEQ,IAAI,CAAC,CAEtE,mBACEZ,KAAA,QAAKQ,SAAS,CAAC,yBAAyB,CAAAL,QAAA,eACtCH,KAAA,CAACvB,MAAM,EAAA0B,QAAA,eACLP,IAAA,CAAClB,KAAK,EAACmC,IAAI,CAAC,QAAQ,CAACC,OAAO,CAAE,CAACV,IAAI,cAAGR,IAAA,CAACb,KAAK,GAAE,CAAC,cAAGa,IAAA,CAACjB,QAAQ,EAAC8B,EAAE,CAAC,YAAY,CAACC,OAAO,MAAE,CAAE,CAAE,CAAC,cAC1Fd,IAAA,CAAClB,KAAK,EAACmC,IAAI,CAAC,GAAG,CAACC,OAAO,cAAElB,IAAA,CAACjB,QAAQ,EAAC8B,EAAE,CAAEL,IAAI,CAAG,YAAY,CAAG,QAAS,CAACM,OAAO,MAAE,CAAE,CAAE,CAAC,cAGrFd,IAAA,CAAClB,KAAK,EAACmC,IAAI,CAAC,YAAY,CAACC,OAAO,cAC9BlB,IAAA,CAACK,cAAc,EAAAE,QAAA,cACbP,IAAA,CAACd,MAAM,EAAAqB,QAAA,cACLP,IAAA,CAACZ,SAAS,GAAE,CAAC,CACP,CAAC,CACK,CACjB,CAAE,CAAC,cAEJY,IAAA,CAAClB,KAAK,EAACmC,IAAI,CAAC,UAAU,CAACC,OAAO,cAC5BlB,IAAA,CAACK,cAAc,EAAAE,QAAA,cACbP,IAAA,CAACd,MAAM,EAAAqB,QAAA,cACLP,IAAA,CAACX,OAAO,GAAE,CAAC,CACL,CAAC,CACK,CACjB,CAAE,CAAC,cAEJW,IAAA,CAAClB,KAAK,EAACmC,IAAI,CAAC,UAAU,CAACC,OAAO,cAC5BlB,IAAA,CAACK,cAAc,EAAAE,QAAA,cACbP,IAAA,CAACd,MAAM,EAAAqB,QAAA,cACLP,IAAA,CAACV,OAAO,GAAE,CAAC,CACL,CAAC,CACK,CACjB,CAAE,CAAC,cAEJU,IAAA,CAAClB,KAAK,EAACmC,IAAI,CAAC,cAAc,CAACC,OAAO,cAChClB,IAAA,CAACK,cAAc,EAAAE,QAAA,cACbP,IAAA,CAACd,MAAM,EAAAqB,QAAA,cACLP,IAAA,CAACT,aAAa,GAAE,CAAC,CACX,CAAC,CACK,CACjB,CAAE,CAAC,cAEJS,IAAA,CAAClB,KAAK,EAACmC,IAAI,CAAC,YAAY,CAACC,OAAO,cAC9BlB,IAAA,CAACK,cAAc,EAAAE,QAAA,cACbP,IAAA,CAACd,MAAM,EAAAqB,QAAA,cACLP,IAAA,CAACR,SAAS,GAAE,CAAC,CACP,CAAC,CACK,CACjB,CAAE,CAAC,cAEJQ,IAAA,CAAClB,KAAK,EAACmC,IAAI,CAAC,sBAAsB,CAACC,OAAO,cACxClB,IAAA,CAACK,cAAc,EAAAE,QAAA,cACbP,IAAA,CAACd,MAAM,EAAAqB,QAAA,cACLP,IAAA,CAACP,iBAAiB,GAAE,CAAC,CACf,CAAC,CACK,CACjB,CAAE,CAAC,cAEJO,IAAA,CAAClB,KAAK,EAACmC,IAAI,CAAC,oBAAoB,CAACC,OAAO,cACtClB,IAAA,CAACK,cAAc,EAAAE,QAAA,cACbP,IAAA,CAACd,MAAM,EAAAqB,QAAA,cACLP,IAAA,CAACN,WAAW,GAAE,CAAC,CACT,CAAC,CACK,CACjB,CAAE,CAAC,cAEJM,IAAA,CAAClB,KAAK,EAACmC,IAAI,CAAC,gBAAgB,CAACC,OAAO,cAClClB,IAAA,CAACK,cAAc,EAAAE,QAAA,cACbP,IAAA,CAACd,MAAM,EAAAqB,QAAA,cACLP,IAAA,CAACL,OAAO,GAAE,CAAC,CACL,CAAC,CACK,CACjB,CAAE,CAAC,cAEJK,IAAA,CAAClB,KAAK,EAACmC,IAAI,CAAC,2BAA2B,CAACC,OAAO,cAC7ClB,IAAA,CAACK,cAAc,EAAAE,QAAA,cACbP,IAAA,CAACd,MAAM,EAAAqB,QAAA,cACLP,IAAA,CAACJ,cAAc,GAAE,CAAC,CACZ,CAAC,CACK,CACjB,CAAE,CAAC,cAEJI,IAAA,CAAClB,KAAK,EAACmC,IAAI,CAAC,qBAAqB,CAACC,OAAO,cACvClB,IAAA,CAACK,cAAc,EAAAE,QAAA,cACbP,IAAA,CAACd,MAAM,EAAAqB,QAAA,cACLP,IAAA,CAACH,QAAQ,GAAE,CAAC,CACN,CAAC,CACK,CACjB,CAAE,CAAC,cAGJG,IAAA,CAAClB,KAAK,EAACmC,IAAI,CAAC,GAAG,CAACC,OAAO,cAAElB,IAAA,CAACjB,QAAQ,EAAC8B,EAAE,CAAC,GAAG,CAACC,OAAO,MAAE,CAAE,CAAE,CAAC,EAClD,CAAC,cAETd,IAAA,CAAChB,OAAO,EACNmC,QAAQ,CAAC,YAAY,CACrBC,YAAY,CAAE,KAAM,CACpBC,MAAM,CAAE,CAAE,CACVC,kBAAkB,CAAC,EAAE,CACrBC,cAAc,CAAE,CAAC,CAAE,CACnBC,YAAY,CAAE,CACZC,QAAQ,CAAE,IAAI,CACdC,KAAK,CAAE,CACLC,UAAU,CAAE,SAAS,CACrBC,KAAK,CAAE,MAAM,CACbC,YAAY,CAAE,KAAK,CACnBC,QAAQ,CAAE,MAAM,CAChBC,QAAQ,CAAE,OACZ,CAAC,CACDC,OAAO,CAAE,CACPN,KAAK,CAAE,CACLC,UAAU,CAAE,SACd,CACF,CAAC,CACDM,KAAK,CAAE,CACLP,KAAK,CAAE,CACLC,UAAU,CAAE,SACd,CACF,CACF,CAAE,CACH,CAAC,EACC,CAAC,CAEV,CAAC,CAED;AACA,KAAM,CAAAO,GAAa,CAAGA,CAAA,GAAM,CAC1B,mBACElC,IAAA,CAACf,YAAY,EAAAsB,QAAA,cACXP,IAAA,CAACpB,MAAM,EAAA2B,QAAA,cACLP,IAAA,CAACe,UAAU,GAAE,CAAC,CACR,CAAC,CACG,CAAC,CAEnB,CAAC,CAED,cAAe,CAAAmB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}